import "math.mscript";
import "util.mscript";
import "terrain_generation_common.mscript";

int fib1(int n) {
    if (n <= 0) {
        return 0;
    }
    else if (n == 1) {
        return 1;
    }
    else {
        return fib1(n - 1) + fib2(n - 2);
    }
}

int fib2(int n) {
    if (n <= 0) {
        return 0;
    }
    else if (n == 1) {
        return 1;
    }
    else {
        return fib2(n - 1) + fib1(n - 2);
    }
}

int fib(int n, int x) {
    if (n <= zero()) {
        return zero();
    }
    else if (n == one()) {
        return one();
    }
    else {
        return fib1(n - one()) + fib2(n - two());
    }
}

int zero() {
    return 0;
}

int one() {
    return 1;
}

int two() {
    return 2;
}

bool inited = false;
int stuff = 10;
vec3 things = { x = 1, y = 2, z = 3 };
int[] stuffs = NULL;
vec3[] vecs = [];

int run(int n0, int n1) {
    int i;
    if (!inited) {
        stuffs = [];
        for (i = 0; i <= 100; i++) {
            stuffs[stuffs.length] = 5 * i;
            vecs[vecs.length] = { x = 3 * i, y = 3 * i + 1, z = 3 * i + 2 };
        }
        inited = true;
    }

    int n = n0 + n1; 

    vec3 all = { x = 0, y = 0, z = 0 };
    for (i = 0; i < 100; i++) {
        all = all + vecs[i];
    }
    print("all = ", all, "\n");

    float ss = 16.0;
    ss = c_sqrt(ss);
    print("ss = ", ss, "\n");

    print("stuff = ", stuff, "\n");
    stuff = stuff + 100;

    print("things = ", things, "\n");
    things = things + { x = 10, y = 10, z = 10 };

    print("fib(10) = ", fib(10, 1), "\n");

    //for (i = 0; i < stuffs.length; i++) {
        //print(i, ": ", stuffs[i], "\n");
        //stuffs[i] += 5;
    //}

    return 100;
}
