import "math.mscript";
import "util.mscript";
import "terrain_generation_common.mscript";

int fib(int n) {
    if (n <= zero()) {
        return zero();
    }
    else if (n == one()) {
        return one();
    }
    else {
        return fib(n - one()) + fib(n - two());
    }
}

int zero() {
    return 0;
}

int one() {
    return 1;
}

int two() {
    return 2;
}

vec3[] create_array(int n) {
    vec3[] a = [];
    int i;
    for (i = 0; i <= n; i++) {
        a[i] = { x = 0, y = 0, z = 0};
    }
    return a;
}

vec3 sum_array(vec3[] array) {
    vec3 sum = { x = 0, y = 0, z = 0 };
    int i;
    for (i = 0; i < array.length; i++) {
        sum = vec3_add(sum, array[i]);
    }
    return sum;
}

void print_array(vec3[] array) {
    debug_print("[");
    int i;
    for (i = 0; i < array.length; i++) {
        debug_print(array[i]);
        if (i != array.length - 1) {
            debug_print(", ");
        }
    }
    debug_print("]\n");
}

int run(int n) {
    vec3[] a = create_array(10);
    vec3 s = sum_array(a);
    print_array(a);
    return fib(10);
}
