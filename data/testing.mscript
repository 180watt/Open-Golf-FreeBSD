struct bar {
    int sum;
}

struct foo {
    int x, y;
    bar b;
}

struct ui_button {
    bool is_clicked, is_hovered;
    vec2 pos, size;
}

ui_button ui_button_create() {
    ui_button button = {
        is_clicked = false,
        is_hovered = false,
        pos = vec2(0, 0),
        size = vec2(0, 0)
    };
    return button;
}

void ui_button_update(ui_button *button) {
    button->is_hovered = true;
    button->is_clicked = true;
}

void do_stuff_foo(foo* f) {
    f->b.sum = f->x + f->y;
}

void do_stuff_bar(bar *b) {
    b->sum = 0;
}

int run(int n0, int n1, void* file_ptr) {
    ui_button b = ui_button_create();
    print("button = ", b, "\n");
    ui_button_update(&b);
    print("button = ", b, "\n");

    foo f = { x = n0, y = n1, b = { sum = 0 } };
    foo g = { x = 1, y = 2, b = { sum = 0 } };

    do_stuff_foo(&f);
    print("f = ", f, ", g = ", g, "\n");

    do_stuff_foo(&g);
    print("f = ", f, ", g = ", g, "\n");

    do_stuff_bar(&(f.b));
    print("f = ", f, ", g = ", g, "\n");

    do_stuff_bar(&(g.b));
    print("f = ", f, ", g = ", g, "\n");

    return 100;
}
